### Company User Management Endpoints

# Variables
@baseUrl = http://localhost:5001
@token = eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJ0eXBlYXV0aCI6Ikdvb2dsZUF1dGhlbnRpY2F0b3IiLCIyZmEiOiJUcnVlIiwibmFtZWlkIjoiMDRjYTFmMTktNTI2MC00Zjc0LTg1MTktOTZmMDk5MWM1YzQzIiwianRpIjoiZDZhZDJhZDMtODQzZC00ZjMyLTlmYWYtMGU1NjhlZDU0YTRkIiwiaWF0IjoxNzU4NTA4MTAyLCJzdWIiOiJSZW56byIsImVtYWlsIjoicmVuem9kcmFnb3R0bzUwQGdtYWlsLmNvbSIsIkZpcnN0TmFtZSI6IlJlbnpvIiwiTGFzdE5hbWUiOiJEcmFnb3R0byIsIm5iZiI6MTc1ODUwODEwMiwiZXhwIjoxNzU4NTI5NzAyfQ.RW9dur7CGhDt7bMQY4PFGBrdj_r9VQjMvRAyzmdIi-6dRs2wR8GdmnknsdKFfWZTK0KAzy67JVbqehy9f009vQ
@companyId = 123e4567-e89b-12d3-a456-426614174000
@userId = 04ca1f19-5260-4f74-8519-96f0991c5c43
@roleId = 456e7890-e89b-12d3-a456-426614174001

### 1. Obtener usuarios de una compañía
GET {{baseUrl}}/api/companies/{{companyId}}/users
Authorization: Bearer {{token}}

### 2. Obtener usuario específico de una compañía
GET {{baseUrl}}/api/companies/{{companyId}}/users/{{userId}}
Authorization: Bearer {{token}}

### 3. Asignar usuario a compañía
POST {{baseUrl}}/api/companies/{{companyId}}/users
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "userId": "{{userId}}",
  "roleId": "{{roleId}}"
}

### 4. Cambiar rol de usuario en compañía
PUT {{baseUrl}}/api/companies/{{companyId}}/users/{{userId}}/role
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "roleId": "{{roleId}}"
}

### 5. Remover usuario de compañía
DELETE {{baseUrl}}/api/companies/{{companyId}}/users/{{userId}}
Authorization: Bearer {{token}}

### 6. Obtener usuarios de compañía inexistente (debe retornar 204)
GET {{baseUrl}}/api/companies/999e9999-e89b-12d3-a456-426614174999/users
Authorization: Bearer {{token}}

### 7. Obtener usuario inexistente de compañía (debe retornar 204)
GET {{baseUrl}}/api/companies/{{companyId}}/users/999e9999-e89b-12d3-a456-426614174999
Authorization: Bearer {{token}}

### 8. Asignar usuario inexistente a compañía (debe retornar 400)
POST {{baseUrl}}/api/companies/{{companyId}}/users
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "userId": "999e9999-e89b-12d3-a456-426614174999",
  "roleId": "{{roleId}}"
}

### 9. Asignar usuario a compañía con rol inexistente (debe retornar 400)
POST {{baseUrl}}/api/companies/{{companyId}}/users
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "userId": "{{userId}}",
  "roleId": "999e9999-e89b-12d3-a456-426614174999"
}

### 10. Cambiar rol de usuario no asignado a compañía (debe retornar 400)
PUT {{baseUrl}}/api/companies/{{companyId}}/users/999e9999-e89b-12d3-a456-426614174999/role
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "roleId": "{{roleId}}"
}

### 11. Remover usuario no asignado a compañía (debe retornar 400)
DELETE {{baseUrl}}/api/companies/{{companyId}}/users/999e9999-e89b-12d3-a456-426614174999
Authorization: Bearer {{token}}
